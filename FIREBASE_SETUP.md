# Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ… Firebase Ø¨Ø±Ø§ÛŒ Ù…Ø§Ù†Ø§

## Ù…Ø±Ø§Ø­Ù„ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Firebase

### 1. Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Firebase

1. Ø¨Ù‡ [Firebase Console](https://console.firebase.google.com/) Ø¨Ø±ÙˆÛŒØ¯
2. Ø±ÙˆÛŒ "Add project" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
3. Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ù„Ø§Ù‹ `mana-ai-assistant`)
4. Google Analytics Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
5. Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯

### 2. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Android

1. Ø¯Ø± Firebase ConsoleØŒ Ø±ÙˆÛŒ Ø¢ÛŒÚ©ÙˆÙ† Android Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
2. Package name Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø§Ø² `android/app/build.gradle` Ø¨Ú¯ÛŒØ±ÛŒØ¯)
3. App nickname Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯
4. `google-services.json` Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯
5. ÙØ§ÛŒÙ„ Ø±Ø§ Ø¯Ø± `android/app/` Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯

### 3. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† iOS

1. Ø¯Ø± Firebase ConsoleØŒ Ø±ÙˆÛŒ Ø¢ÛŒÚ©ÙˆÙ† iOS Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
2. Bundle ID Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ (Ø§Ø² `ios/Runner.xcodeproj` Ø¨Ú¯ÛŒØ±ÛŒØ¯)
3. App nickname Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯
4. `GoogleService-Info.plist` Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯
5. ÙØ§ÛŒÙ„ Ø±Ø§ Ø¯Ø± `ios/Runner/` Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯

### 4. ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Authentication

1. Ø¯Ø± Firebase ConsoleØŒ Ø¨Ù‡ **Authentication** Ø¨Ø±ÙˆÛŒØ¯
2. Ø±ÙˆÛŒ **Get started** Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
3. Ø¯Ø± ØªØ¨ **Sign-in method**:
   - **Google**: ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯ Ùˆ Email Ùˆ Project support email Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯
   - **Apple**: ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯ (ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ iOS)

### 5. ØªÙ†Ø¸ÛŒÙ… Firestore Database

1. Ø¯Ø± Firebase ConsoleØŒ Ø¨Ù‡ **Firestore Database** Ø¨Ø±ÙˆÛŒØ¯
2. Ø±ÙˆÛŒ **Create database** Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
3. Ø­Ø§Ù„Øª **Test mode** Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ (Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹)
4. Location Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ù„Ø§Ù‹ `us-central1`)
5. Database Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯

### 6. ØªÙ†Ø¸ÛŒÙ… Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ù…Ù†ÛŒØªÛŒ Firestore

Ø¯Ø± Firebase Console > Firestore Database > Rules:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙÙ‚Ø· Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ø´Ø§Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±Ù†Ø¯
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    match /chats/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      match /messages/{messageId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
    
    match /tasks/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    match /user_preferences/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    match /user_behaviors/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      match /actions/{actionId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
  }
}
```

### 7. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Android

#### 7.1. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† dependency

Ø¯Ø± `android/build.gradle`:
```gradle
buildscript {
    dependencies {
        classpath 'com.google.gms:google-services:4.4.0'
    }
}
```

Ø¯Ø± `android/app/build.gradle` (Ø¯Ø± Ø§Ù†ØªÙ‡Ø§):
```gradle
apply plugin: 'com.google.gms.google-services'
```

#### 7.2. ØªÙ†Ø¸ÛŒÙ… minSdkVersion

Ø¯Ø± `android/app/build.gradle`:
```gradle
android {
    defaultConfig {
        minSdkVersion 21
    }
}
```

### 8. ØªÙ†Ø¸ÛŒÙ…Ø§Øª iOS

#### 8.1. Ù†ØµØ¨ CocoaPods

```bash
cd ios
pod install
cd ..
```

#### 8.2. ØªÙ†Ø¸ÛŒÙ… Sign in with Apple

1. Ø¯Ø± [Apple Developer](https://developer.apple.com/) Ø¨Ø±ÙˆÛŒØ¯
2. App ID Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯/ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯
3. "Sign in with Apple" capability Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯
4. Ø¯Ø± XcodeØŒ Ø¨Ù‡ Target > Signing & Capabilities Ø¨Ø±ÙˆÛŒØ¯
5. "+ Capability" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯ Ùˆ "Sign in with Apple" Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯

### 9. ØªØ³Øª Ø§ØªØµØ§Ù„

```dart
// Ø¯Ø± main.dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Firebase.initializeApp();
  runApp(const ManaApp());
}
```

### 10. Ø³Ø§Ø®ØªØ§Ø± Firestore

Ù¾Ø³ Ø§Ø² Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒØŒ Ø³Ø§Ø®ØªØ§Ø± Ø²ÛŒØ± Ø¯Ø± Firestore Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯:

```
users/
  {userId}/
    - name, ageGroup, dailyActivity, etc.
    
chats/
  {userId}/
    messages/
      {messageId}/
        - text, isUser, timestamp, etc.
        
tasks/
  {userId}/
    {taskId}/
      - title, description, dueDate, etc.
      
user_preferences/
  {userId}/
    - preferredTone, interests, habits, etc.
    
user_behaviors/
  {userId}/
    actions/
      {actionId}/
        - action, context, timestamp
```

## Ù†Ú©Ø§Øª Ù…Ù‡Ù…

âš ï¸ **Ø§Ù…Ù†ÛŒØª**: Ø­ØªÙ…Ø§Ù‹ Ù‚ÙˆØ§Ù†ÛŒÙ† Firestore Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯ ØªØ§ ÙÙ‚Ø· Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ø´Ø§Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.

ğŸ”‘ **API Keys**: ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ `google-services.json` Ùˆ `GoogleService-Info.plist` Ø±Ø§ Ø¯Ø± `.gitignore` Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.

ğŸ“± **ØªØ³Øª**: Ù‚Ø¨Ù„ Ø§Ø² Ø§Ù†ØªØ´Ø§Ø±ØŒ Ø­ØªÙ…Ø§Ù‹ Authentication Ùˆ Firestore Ø±Ø§ ØªØ³Øª Ú©Ù†ÛŒØ¯.

## Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Ù…Ø´Ú©Ù„: Firebase initialize Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ú©Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ `google-services.json` Ùˆ `GoogleService-Info.plist` Ø¯Ø±Ø³Øª Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡â€ŒØ§Ù†Ø¯
- `flutter clean` Ùˆ `flutter pub get` Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯

### Ù…Ø´Ú©Ù„: Google Sign In Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- SHA-1 fingerprint Ø±Ø§ Ø¯Ø± Firebase Console Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:
  ```bash
  # Android
  keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android
  ```

### Ù…Ø´Ú©Ù„: Apple Sign In Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ø¯Ø± Apple Developer Console ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø§Ø³Øª
- Bundle ID Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Firebase ÛŒÚ©Ø³Ø§Ù† Ø¨Ø§Ø´Ø¯

---

Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯! ğŸš€

